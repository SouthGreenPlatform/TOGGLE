\documentclass[a4paper]{article}

%% Language and font encodings
\usepackage[english]{babel}
\usepackage[utf8x]{inputenc}
\usepackage[T1]{fontenc}


%% Sets page size and margins
\usepackage[a4paper,top=2.5cm,bottom=2cm,left=2cm,right=2cm,marginparwidth=1.75cm]{geometry}

% header & footer
\usepackage{fancyhdr}


%% Useful packages
\usepackage{amsmath}
\usepackage{graphicx}
\usepackage{tabularx}

\usepackage[colorinlistoftodos]{todonotes}
\usepackage[colorlinks=true, allcolors=blue]{hyperref}

%\usepackage{verbatim}
\usepackage{listings}
\usepackage{color}
\usepackage[export]{adjustbox} %figure position include graphics

\lstset{ % General setup for the package
 basicstyle=\footnotesize, %basicstyle=\small\ttfamily,
language=Perl,
numbersep=5pt,
%numbers=left,
numberstyle=\tiny\color{gray}, % number style
breaklines=true,
 breakatwhitespace=false,
frame=single,
framexleftmargin=2mm,
xleftmargin=2mm,
prebreak = \raisebox{0ex}[0ex][0ex]{\ensuremath{\hookleftarrow}},
%backgroundcolor=\color{green!5},
%frameround=fttt,
escapeinside={(*@}{@*)},
rulecolor=\color{teal},
keywords={% Give key words here                                         % keywords
    maketitle},
keywordstyle=\color[rgb]{0,0,1},                    % keywords
        commentstyle=\color[rgb]{0.133,0.545,0.133},    % comments
        stringstyle=\color[rgb]{0.627,0.126,0.941}  % strings
%columns=fullflexible
}%

\pagestyle{fancy}
\fancyhf{}
\rhead{Analysis report - \LaTeX}
\lhead{\includegraphics[width=0.12\textwidth]{../img/toggleLogo2.png}}
%\chead{Analysis report}
\rfoot{Page \thepage}
%\lfoot{\includegraphics[width=0.13\textwidth]{../img/SGLogo.png}}

\begin{document}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%           LOAD TITLE PAGE
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\input{input/title.tex}




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%           LOAD TABLE OF CONTENTS
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\tableofcontents
\newpage



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%           INTRO
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{TOGGLe}
\input{input/intro.tex}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%           WORKFLOW DESCRIPTION
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Workflow Description}

%%%%%%%   SUBSECTION : load png file generated by graphivz
\subsection{Workflow Diagram}

\begin{figure}[ht]
\centering
\includegraphics[width=0.6\textwidth]{togglePipeline.png}
%\caption{\label{fig:worflow}Workflow diagram}
\end{figure}

%%%%%%%   SUBSECTION : load commandLine file
\subsection{Line code}

\begin{minipage}{\linewidth}
\lstinputlisting[language=Perl]{input/commandLine.tex}
\end{minipage}

%%%%%%%   SUBSECTION : load commandLine file
\subsection{Software versions used by the workflow}

\begin{minipage}{\linewidth}
\lstinputlisting[language=Perl]{input/software.txt}
\end{minipage}

%%%%%%%   SUBSECTION : link to software config (appendix)
\subsection{Software configuration}
The software configuration used by TOGGLe is available in Appendix (\ref{appendix:config}).



 % \verbatiminput{input/configuration.txt}


 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%           JOBS DESCRIPTION
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\newpage
\section{Jobs execution}

\subsection{Parallel execution (step number < 1000)}

\input{input/sample_parallel_table.tex}

\subsection{Global execution (step number >= 1000)}
\input{input/sample_global_table.tex}

\subsection{Error}

 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%           STATS
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newpage
\section{Statistics}

\input{input/stats.tex}

\clearpage

\bibliographystyle{acm}
\bibliography{TOGGLe_Workflow_Report}

\clearpage
\section{Appendix}\appendix

%\appendix
\section{ Software configuration file used}
\label{appendix:config}
\lstinputlisting[language=Perl]{input/configuration.txt}

\end{document}
